{"version":3,"sources":["AuthModalContext.js","UserContext.js","logo.png","avatar.png","Button.js","RedirectContext.js","Header.js","BoardHeader.js","PostFormModalContext.js","PostForm.js","PostContent.js","Post.js","PostsListing.js","Board.js","Textarea.js","CommentForm.js","RootCommentContext.js","Voting.js","Comments.js","Comment.js","CommentPage.js","CommentModal.js","SearchResultsPage.js","RoutingSwitch.js","Input.js","PostFormModal.js","AuthModal.js","Routing.js","App.js","index.js"],"names":["AuthModalContext","React","createContext","UserContext","Button","props","classNames","outline","_jsx","className","RedirectContext","Header","userDropdownVisibilityClass","setUserDropdownVisibilityClass","useState","searchText","setSearchText","setRedirect","useContext","authModal","user","children","_jsxs","Link","to","src","Logo","alt","onSubmit","ev","preventDefault","encodeURIComponent","SearchIcon","type","placeholder","value","onChange","target","username","_Fragment","ChatIcon","BellIcon","PlusIcon","onClick","setShow","ClickOutHandler","onClickOut","UserIcon","Avatar","style","filter","ChevronDownIcon","LoginIcon","logout","LogoutIcon","BoardHeader","backgroundImage","PostFormModalContext","PostForm","modalContext","action","onFocus","e","PostContent","author","TimeAgo","datetime","postedAt","title","ReactMarkdown","plugins","gfm","body","Post","postClasses","open","isListing","pathname","rootId","_id","state","commentId","PostsListing","comments","setComments","useEffect","axios","get","withCredentials","then","response","data","map","comment","Board","Textarea","CommentForm","userInfo","commentBody","setCommentBody","showAuthor","parentId","post","postComment","onCancel","RootCommentContext","Voting","rootCommentInfo","commentsTotals","userVotes","total","userVote","sendVote","direction","arguments","length","undefined","url","refreshVotes","arrowButton","directionName","xmlns","viewBox","fill","fillRule","d","clipRule","Comments","showForm","setShowForm","replies","c","marginLeft","remarkPlugins","refreshComments","Comment","setComment","setCommentsTotals","setUserVotes","id","commentsIds","Provider","CommentPage","match","params","CommentModal","visibleClass","backgroundColor","SearchResultsPage","text","RoutingSwitch","postOpen","setPostOpen","location","useLocation","Switch","Route","exact","path","component","Input","PostFormModal","authModalContext","show","setTitle","setBody","newPostId","setNewPostId","Redirect","catch","error","console","log","status","createPost","AuthModal","modalType","setModalType","email","setEmail","setUsername","password","setPassword","borderRadius","setUser","login","register","Routing","redirect","Router","App","showAuthModal","setShowAuthModal","showPostFormModal","setShowPostFormModal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.651d6fd6.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst AuthModalContext = React.createContext({});\r\n\r\nexport default AuthModalContext;","import React from 'react';\r\n\r\nconst UserContext = React.createContext({});\r\n\r\nexport default UserContext;","export default __webpack_public_path__ + \"static/media/logo.9c439f9f.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAC/VBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD////mIR0JAAAA/XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+lldi+QAAAAFiS0dE/tIAwlMAAAuxSURBVBgZ7cELnI1lAgfg/5lrjGnGhFZjx6XS1ERRa1Ubum8URaFauSZs01ITbZvdlBrdCNuOlcIOMiqSLdfKJWUq2bWG2AtmM8ZlzJj7Oef9/37LnnOmEjPfJ/O93/ue93lgGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhqCPi5xmzlq9cOffJ3hfAsC1q2NessX/RqJYw7Ej+gif48vFkGFY1zuMP+d7r7oFhRcRqnlzeAw1g1G0IT+nAU0kw6hC/j7U4+lwCjFo9w5CC7VsKBE904NGGOIXonw+dsnDFpytz/jjymjiEqZ+WMyA3Fcc0vGZMzl5+3+7eOImYfm8e4bcqlg5JQDiawwD/FajR6qE1Xn7XylScIOnJfTxRyZSWCDsd/QyYje85Z8DiKn6rOrMBviNy+CH+kGD5hDiEmQ8ZUN4CJ0oavl6wRl4n1Gi7iSfn564rEFa6MmgiTqb1779hiHdiLAL6HOUpiaoRCCcrGVCchJOL7ruBIX+7BMc9LFgLHycgfHRi0LM4tevXMah8GIBxrJ2fmQgb7zKgrBlqc8MnDJoeNVCwDn4OR5i4TDDgZdTO02cXAzZ5WSdfVQeEhzcZUJWMusT85hAtq94Rg3BwXjUDsmFB4+cqaJUYi3DwBwZdBUtS5ghaI0obQ3/R/2XAZlj1KS2q+h30dzeDhsCiiwSt2h8B7a1hQEkcLJpOyypugO5SBQNmw6LoElrmz4LunmHQLbCoG23Ih+Y8/2RAYRQsmkQbDjWA3joxaDqsyqUNZe2ht8kMugkWecpoR19oLSKfAUdjYVET2jIBWruOQYtgVRpteR5am8aggbDqatqSAa39m0HJsKoLbRkEnV3KoDxYdgVt6Q+dPc6gabDsQtrSHzrbwKDesCzWTztuhMaa+BggmsK6nbRBXAKNDWDQ17BhLu1IgcbmM2gObOhLG/xR0JdnP4MehA0JXlq3Exq7jCEdYMcHtG4GNPYog7yxsKM7rbsTGvuAQVthi2cHrSptCH3FlDJoHuwZRqtmQGPdGDIO9kR+TmtEGjT2NEN6wKb2XloyHzpby5AU2PU0rShrA43FVjCoyAO7IpfQgnTo7BqGfAz74jaxTu9FQGdjGZKF03DuVtZhWwK0towhGTgdCStYq53J0FpEEUN647REz2AtvkyG3tqzxuU4Td3/xVOZ1wiaG84aZ+N0NXymgifzTU9obyZDCvEjNPttPk+Un5EA/W1hyEb8KNG95xTwW4XZd8cgDDT0MuQv+NFa9kzPzMrKmjy6dxuEic6sMQGGfemsMQyGfXNZozsM+zazRgcY9u1jjWYwLGvcom3Hbt3vuuu6aoZUR8CoS+POg5/NXv+f4sKtG1YvX7Z48YqVPoZUrF27avm72S+m9+6cHAnjBA06j/zTh/vJor35RX7Wxlu0v+BAQd77E/u1i4FxTFSnkbO2eMmKMtrhLSqqyl/5h17nIpx5Ln14aQlJH0+Tr0wUvDUk1YNwlHjfvAKSgj9WlShd/es2CC9Jg5ZV8Qzycs/LXaIQJhKGrvDyjPOz9K1+DfFDjTrdPWZK1oKFC7KmPNL36qZQXceso6wnglVv3RaN72g1dM4//fyeHbMGtoCy4gbnsl4JHpyQgoDEh7bxpPyrB8ZDRS1fPkIH+P96iwdIW1rt5SmVTU2GajrM89IZgjvu/2MBa1cxuTncqMkNj8x45+PNn3++aen0sX1aIuTydwWdVM46lWZEw11if/mn3fy+giUjWgFIfVvQhb66BC7ScXYJT+qr8W946U7lg+ASnjvXUklTo+EGV26kqlY1gnRNZvmpKEFuSIRkXfKptNx4yORJr6bKBLkmBvLELqLiBDkT0sStoPIEOQiSxH9CLZSmQorIZaSgDr6IggyvkIIaEOTDkOBB0k9NlLSA49qUUlAbc+G0yPXUifd8OGwMKaiRLDjr3GL6qZPKpnDUTOpmJJzU2ks/9fIJnDSd2hGt4JxzyuijbgbDOQ9RQ6/DORvoo3Z2wTHJgjqKh1OGU0tpcMp8+qihHnDKHmppGBySRD2NhEOupZ7S4ZBB1NNv4JAnKKij++GQV+injm6EQ16jni6FQ+ZRS744OGQ2tbQFTnmVWpoJpzxNLQ2EUx6kjqqT4JRbqKO/wjHJ1FE/OKeQ+tkbDecson4eg4NGUDv74uGgZEHdDIGjPqFmvoyEo4ZSL5WXwlmNiqmVMXBaJnXyTgSc1qyM+tjcCM57itrY2RwSxO2lHkp2t4IUPamFbdtTIMk86mB9E8jSJJ8a6AZ5OldTff0h0SiqbzRkWkfljYdMmVReJmSaTeVNh0xLqbw3INMHVN5CyLSKysuBTB9ReTmQ6SMqLwcyLaby5kOm16m8qZDpBSrvCcj0OJU3HDL1pfJuh0yXUXkXQqYGfiquMgpS/ZuKy4Vcb1Jx0yDXA1TcAMjVlor7KSTLp9J2QLYsKu15yNaFSmsH2SL2UGFbIN8kKmwM5EsVVJbvPLjAUiorB27QhaoSl8EVNlJRS+AO3amoK+ESy6mk9+EWaV4qqPIiuMZ0KugJuEfCbirnbzFwkRsEFePrBFeZQsU8B3dpsJVKWRMFl7nwMJUhuLcZXOdGLxUhWH01XGg0lTEMrvQ8FTEW7uSZSSWMh1tFZFMBL8G9oubS3QSZCTfz/J5uJigy4HIP+elilf3geneU0LUO/wIKaPsPupEgv7gASjh7MV1pWiwU4RlZTncR5JE+UEjqF3SZ1a2hlJgJVXQLQRYN8UA1F6+lKwiS75wHBXkGH6QrbL8dikqcVEnpDoyKhrpazRckBaUpn5QItbVf5KcUgmTpCz+B+tIW+Ok4QbJkYlPooc3kEh4j6KR/PdoY+kgYvZPHCdY/QVKs6hkJvXi6ZVfwOMH65Ocx30xKhY6SRqwTPE6wfggeU7Hgl5HQVsqjuX7WCx+PK1t0bwI012zA/EM8swT/r3DOHQ0RFhotrNwleEZVfziuYwTCRFrelvPv8fPMWtsZ4eK2krfjenl5pomc1ggLGf7XIm+qZD0oS/dAe56X+IKn41HWj2VNoLmoN8Q4tNrH+rL7Z9BaZDYfQ1Ie6095D2gs4nW+iLPWsT55+0Nf0zjbE/kW65e3B3T1CN+Lwqusb2U/g57u8m+Lx5Osf7vPgY7SSksuwnA6YQk01Gib6IM7fXTEzdDPQmbi+io64++R0M1Abo5ue5hOeQCaSTlS3T5hOx1TEA+teFZxPHLooKeglV9xc/QoOulwI2jk7H3iqtQKOiodGnmRCyLW01n/iYI22lRXtBpNp/WDNubw2aZH6LRc6CLVV5w4jc5rB03MZ2aql87LhB5SvJXNl1GCPRHQwnN89ReUoit00PCQuHAxpfgzdDCEa873U4qDEdDAx7znFUrSEepL8R9qVkxJHoP6HuPUdMqyAur7il0/pSwVZ0F1LcTBNoLSXAfVDeVrGZRnHFT3Nm/PpTwLobioYu/FlGgXFNeBm+6jRCIBanuQL8ygTNdCba/z9jzKNBhq28Z2gjJNgNJivPt7UqpsKO1irhhHqTZBab340huU6iCUlsGhn1Iqvwcqm86biyhXAlS2kNdSstZQ2YfsSMk6QGVbiztTsuuhsm/2dKdkN0NlB7cOoGS3QmVHNo6iZD2gsrJVv6ZkPaGyytWjKFkvqKx4zUhKdhNUtvejEZTsKqgsb+N9lCwNKsvdfiMlawmVLStsR8nioLKp3uaU6wCUNprJlZQqF0q7k523UKocKK097/kLpcqE0qLLx4+lVP2gtnVLbqVU50Ntk/ITfZTosAdqu4PNP6NEK6G4Jt57J1Kix6G65bOvp0QdoLpB+846QGkKI6C6xMqukynNHKjvnVntKE0vqK9rcfwmSlIYDQ189sitlOQZ6KBbfuxqSlHxE2hh8dgOfsowCXo4b3fKK5SgMBGauOujuA2s4ROsJ4LfIdgf2pg8NTGXQctyWV/er2ANwWw45H9WyQBszVBwPgAAAABJRU5ErkJggg==\"","function Button(props) {\r\n  let classNames = \"border border-gray-300 rounded-full px-3 text-sm font-bold \";\r\n  if (props.outline) {\r\n    classNames += \"text-gray-300 \";\r\n  } else {\r\n    classNames += \"bg-gray-300 text-reddit_dark \";\r\n  }\r\n  return (\r\n    <button {...props} className={classNames + props.className} />\r\n  );\r\n}\r\n\r\nexport default Button;","import {createContext} from \"react\";\r\n\r\nconst RedirectContext = createContext({})\r\n\r\nexport default RedirectContext;","import Logo from \"./logo.png\";\r\nimport {\r\n  BellIcon,\r\n  ChatIcon,\r\n  ChevronDownIcon,\r\n  LoginIcon,\r\n  LogoutIcon,\r\n  PlusIcon,\r\n  SearchIcon,\r\n  UserIcon\r\n} from \"@heroicons/react/outline\";\r\nimport Avatar from \"./avatar.png\";\r\nimport ClickOutHandler from 'react-clickout-handler';\r\nimport Button from \"./Button\";\r\nimport {useState,useContext} from 'react';\r\nimport AuthModalContext from \"./AuthModalContext\";\r\nimport UserContext from \"./UserContext\";\r\nimport {Link} from \"react-router-dom\";\r\nimport RedirectContext from \"./RedirectContext\";\r\n\r\nfunction Header() {\r\n  const [userDropdownVisibilityClass,setUserDropdownVisibilityClass] = useState('hidden');\r\n  const [searchText,setSearchText] = useState('');\r\n  const {setRedirect} = useContext(RedirectContext);\r\n  function toggleUserDropdown() {\r\n    if (userDropdownVisibilityClass === 'hidden') {\r\n      setUserDropdownVisibilityClass('block');\r\n    } else {\r\n      setUserDropdownVisibilityClass('hidden');\r\n    }\r\n  }\r\n  function doSearch(ev) {\r\n    ev.preventDefault();\r\n    setRedirect('/search/'+encodeURIComponent(searchText));\r\n  }\r\n  const authModal = useContext(AuthModalContext);\r\n  const user = useContext(UserContext);\r\n  return (\r\n    <header className=\"w-full bg-reddit_dark p-2\">\r\n      <div className=\"mx-4 flex relative\">\r\n        <Link to=\"/\">\r\n          <img src={Logo} alt=\"\" className=\"w-8 h-8 mr-4\"/>\r\n        </Link>\r\n        <form onSubmit={doSearch} className=\"bg-reddit_dark-brighter px-3 flex rounded-md border border-reddit_border mx-4 flex-grow\">\r\n          <SearchIcon className=\"text-gray-300 h-6 w-6 mt-1\" />\r\n          <input type=\"text\" className=\"bg-reddit_dark-brighter text-sm p-1 pl-2 pr-0 block focus:outline-none text-white\"\r\n                 placeholder=\"Search\"\r\n                 value={searchText}\r\n                 onChange={ev => setSearchText(ev.target.value)}\r\n          />\r\n        </form>\r\n\r\n        {user.username && (\r\n          <>\r\n            <button className=\"px-2 py-1\">\r\n              <ChatIcon className=\"text-gray-400 w-6 h-6 mx-2\" />\r\n            </button>\r\n            <button className=\"px-2 py-1\">\r\n              <BellIcon className=\"text-gray-400 w-6 h-6 mx-2\" />\r\n            </button>\r\n            <button className=\"px-2 py-1\">\r\n              <PlusIcon className=\"text-gray-400 w-6 h-6 mx-2\" />\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        {!user.username && (\r\n          <div className=\"mx-2 hidden sm:block\">\r\n            <Button outline={1} className=\"mr-1 h-8\" onClick={() => authModal.setShow('login')}>Log In</Button>\r\n            <Button className=\"h-8\" onClick={() => authModal.setShow('register')}>Sign Up</Button>\r\n          </div>\r\n        )}\r\n\r\n        <ClickOutHandler onClickOut={() => setUserDropdownVisibilityClass('hidden')}>\r\n          <button className=\"rounded-md flex ml-4 border border-gray-700\" onClick={() => toggleUserDropdown()}>\r\n            {!user.username && (\r\n              <UserIcon className=\"w-6 h-6 text-gray-400 m-1\" />\r\n            )}\r\n            {user.username && (\r\n              <div className=\"bg-gray-600 rounded-md w-8 h-8\">\r\n                <img src={Avatar} alt=\"\" style={{filter:'invert(100%)'}} className=\"block\" />\r\n              </div>\r\n            )}\r\n\r\n            <ChevronDownIcon className=\"text-gray-500 w-5 h-5 mt-2 m-1\" />\r\n          </button>\r\n          <div className={\"absolute right-0 top-8 bg-reddit_dark border border-gray-700 z-10 rounded-md text-reddit_text overflow-hidden \"+userDropdownVisibilityClass}>\r\n            {user.username && (\r\n              <span className=\"block w-50 py-2 px-3 text-sm\">\r\n                Hello, {user.username}!\r\n              </span>\r\n            )}\r\n            {!user.username && (\r\n              <button\r\n                onClick={() => authModal.setShow('login')}\r\n                className=\"block flex w-50 py-2 px-3 hover:bg-gray-300 hover:text-black text-sm\">\r\n                <LoginIcon className=\"w-5 h-5 mr-2\" />\r\n                Log In / Sign Up\r\n              </button>\r\n            )}\r\n            {user.username && (\r\n              <button\r\n                onClick={() => user.logout()}\r\n                className=\"block flex w-50 py-2 px-3 hover:bg-gray-300 hover:text-black text-sm\">\r\n                <LogoutIcon className=\"w-5 h-5 mr-2\" />\r\n                Logout\r\n              </button>\r\n            )}\r\n          </div>\r\n        </ClickOutHandler>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","function BoardHeader() {\r\n  return (\r\n    <>\r\n      <div className=\"h-20 bg-cover\" style={{backgroundImage:'url(\"https://styles.redditmedia.com/t5_2qs0q/styles/bannerBackgroundImage_7glcgg5ymxp21.png?width=4000&s=9684bc66e812b8730ad694c3f454da8c00a493d7\")'}}>\r\n      </div>\r\n      <div className=\"bg-reddit_dark-brighter\">\r\n        <div className=\"mx-6 relative flex\">\r\n          <div className=\"h-20 w-20 rounded-full overflow-hidden relative -top-3 border-4 border-white bg-white\">\r\n            <img src=\"https://styles.redditmedia.com/t5_2qs0q/styles/communityIcon_kxcmzy9bt1381.jpg?width=256&format=pjpg&s=0a2e472f6fae0712fee4a3b5d44920fe35dbcdaa\" alt=\"\"/>\r\n          </div>\r\n          <div className=\"pt-2 pl-4\">\r\n            <h1 className=\"text-gray-300 text-3xl\">webdev: reddit for web developers</h1>\r\n            <h5 className=\"text-gray-500\">r/webdev</h5>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport  default BoardHeader;","import React from 'react';\r\n\r\nconst PostFormModalContext = React.createContext({});\r\n\r\nexport default PostFormModalContext;","import Avatar from \"./avatar.png\";\r\nimport {useContext} from \"react\";\r\nimport PostFormModalContext from \"./PostFormModalContext\";\r\n\r\nfunction PostForm() {\r\n  const modalContext = useContext(PostFormModalContext);\r\n  return (\r\n    <div className=\"bg-reddit_dark px-6 py-4 text-gray-400\">\r\n\r\n      <div className=\"border border-reddit_border p-2 rounded-md flex bg-reddit_dark-brighter\">\r\n        <div className=\"rounded-full bg-gray-600 overflow-hidden w-10 h-10\">\r\n          <img src={Avatar} alt=\"\" style={{filter:'invert(100%)'}} />\r\n        </div>\r\n        <form action=\"\" className=\"flex-grow bg-reddit_dark-brightest border border-reddit_border ml-4 mr-2 rounded-md\">\r\n          <input type=\"text\"\r\n                 onFocus={e => {\r\n                   e.preventDefault();\r\n                   modalContext.setShow(true);\r\n                 }}\r\n                 className=\"bg-reddit_dark-brightest p-2 px-3 text-sm block w-full rounded-md\" placeholder=\"New post\" />\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostForm;","import TimeAgo from 'timeago-react';\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport gfm from \"remark-gfm\";\r\n\r\nfunction PostContent(props) {\r\n  return (\r\n    <div>\r\n      <h5 className=\"text-reddit_text-darker text-sm mb-1\"> Posted by u/{props.author} <TimeAgo datetime={props.postedAt} /></h5>\r\n      <h2 className=\"text-xl mb-3\">{props.title}</h2>\r\n      <div className=\"text-sm leading-6\">\r\n        <ReactMarkdown plugins={[gfm]} children={props.body} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostContent;","import {Link} from \"react-router-dom\";\r\nimport PostContent from \"./PostContent\";\r\n\r\nfunction Post(props) {\r\n\r\n  let postClasses = \"block border rounded-md \" + (props.open ? \"\" : \"hover:border-reddit_text cursor-pointer\");\r\n  if (props.isListing) {\r\n    postClasses += \" bg-reddit_dark-brighter p-3 mx-6 border-2 border-reddit_border\";\r\n  } else {\r\n    postClasses += \" border-none\";\r\n  }\r\n  return (\r\n    <div className=\"text-reddit_text pb-4\">\r\n      {props.open && (\r\n        <div className={postClasses}>\r\n          <PostContent {...props} />\r\n        </div>\r\n      )}\r\n      {!props.open && (\r\n        <Link to={{pathname:'/comments/'+(props.rootId || props._id),state:{commentId:(props.rootId || props._id)}}} className={postClasses}>\r\n          <PostContent {...props} />\r\n        </Link>\r\n      )}\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;","import Post from \"./Post\";\r\nimport {useState,useEffect} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction PostsListing() {\r\n\r\n  const [comments,setComments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:4000/comments', {withCredentials:true})\r\n      .then(response => setComments(response.data));\r\n\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"bg-reddit_dark\">\r\n      {comments.map(comment => (\r\n        <Post {...comment} isListing={true} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostsListing;","import BoardHeader from \"./BoardHeader\";\r\nimport PostForm from \"./PostForm\";\r\nimport PostsListing from \"./PostsListing\";\r\n\r\nfunction Board() {\r\n  return (<div>\r\n    <BoardHeader />\r\n    <PostForm />\r\n    <PostsListing />\r\n  </div>);\r\n}\r\n\r\nexport default Board;","function Textarea (props) {\r\n  return (\r\n    <textarea {...props} className={\"bg-reddit_dark-brighter text-reddit_text p-2 border border-reddit_dark-brightest rounded-md block \"+props.className} />\r\n  );\r\n}\r\n\r\nexport default Textarea;","import {useContext, useState} from \"react\";\r\nimport UserContext from \"./UserContext\";\r\nimport Textarea from \"./Textarea\";\r\nimport Button from \"./Button\";\r\nimport axios from \"axios\";\r\n\r\nfunction CommentForm (props) {\r\n  const userInfo = useContext(UserContext);\r\n  const [commentBody,setCommentBody] = useState('');\r\n  function postComment(e) {\r\n    e.preventDefault();\r\n    const data = {body:commentBody, parentId:props.parentId,rootId:props.rootId,};\r\n    axios.post('http://localhost:4000/comments', data, {withCredentials:true})\r\n      .then(response => {\r\n        setCommentBody('');\r\n        if (props.onSubmit) {\r\n          props.onSubmit();\r\n        }\r\n      });\r\n  }\r\n  return (\r\n    <div className={'text-reddit_text'}>\r\n      {userInfo.username && props.showAuthor && (\r\n        <div className=\"mb-2\">\r\n          Comment as {userInfo.username}\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={e => postComment(e)}>\r\n        <Textarea className=\"w-full mb-3 border border-reddit_border\"\r\n                  onChange={e => setCommentBody(e.target.value)}\r\n                  value={commentBody}\r\n                  placeholder={'Your comment. You can use markdown here'} />\r\n        <div className=\"text-right\">\r\n          {!!props.onCancel && (\r\n            <Button outline\r\n                    className=\"p-2 mr-2\"\r\n                    onClick={e => props.onCancel()}>Cancel</Button>\r\n          )}\r\n          <Button className=\"p-2\">Comment</Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CommentForm;","import React from 'react';\r\n\r\nconst RootCommentContext = React.createContext({});\r\n\r\nexport default RootCommentContext;","import axios from 'axios';\r\nimport {useContext} from \"react\";\r\nimport RootCommentContext from \"./RootCommentContext\";\r\n\r\nfunction Voting(props) {\r\n\r\n  const rootCommentInfo = useContext(RootCommentContext);\r\n  const {commentsTotals, userVotes} = rootCommentInfo;\r\n  const {commentId} = props;\r\n\r\n  const total = commentsTotals && commentId in commentsTotals\r\n    ? commentsTotals[commentId]\r\n    : 0;\r\n\r\n  const userVote = userVotes && commentId in userVotes\r\n    ? userVotes[commentId]\r\n    : 0;\r\n\r\n  function sendVote(direction = 'up') {\r\n    const directionNumber = direction === 'up' ? 1 : -1;\r\n    if (directionNumber === userVote) {\r\n      direction = 'unvote';\r\n    }\r\n    const url = 'http://localhost:4000/vote/'+props.commentId+'/'+direction;\r\n    axios.get(url, {withCredentials:true})\r\n      .then(() => {\r\n        rootCommentInfo.refreshVotes();\r\n      })\r\n  }\r\n\r\n  function handleVoteUp() {\r\n    sendVote('up');\r\n  }\r\n\r\n  function handleVoteDown() {\r\n    sendVote('down');\r\n  }\r\n\r\n  function arrowButton(directionName = 'up') {\r\n    const directionNumber = directionName === 'up' ? 1 : -1;\r\n    let classNames = 'inline-block h-5 relative top-1 ';\r\n\r\n    if (directionNumber === userVote) {\r\n      classNames += ' text-reddit_red';\r\n    } else {\r\n      classNames += ' text-reddit_text-darker hover:text-white';\r\n    }\r\n\r\n    if (directionName === 'up') {\r\n      return (\r\n        <button onClick={() => handleVoteUp()} className={classNames}>\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n          <path fillRule=\"evenodd\" d=\"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\r\n        </svg>\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button onClick={() => handleVoteDown()} className={classNames}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n            <path fillRule=\"evenodd\" d=\"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={'inline-block mr-2'}>\r\n      {arrowButton('up')}\r\n      <div className={'inline-block'}>{total}</div>\r\n      {arrowButton('down')}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Voting;","import TimeAgo from 'timeago-react';\r\nimport Button from \"./Button\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport {useState, useContext} from 'react';\r\nimport RootCommentContext from \"./RootCommentContext\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport gfm from \"remark-gfm\";\r\nimport Voting from \"./Voting\";\r\n\r\nfunction Comments(props) {\r\n  const [showForm,setShowForm] = useState(false);\r\n  const comments = props.comments.filter(comment => props.parentId === comment.parentId);\r\n  const rootCommentInfo = useContext(RootCommentContext);\r\n\r\n  return (\r\n    <div className={'my-2 text-reddit_text'}>\r\n      {comments.map(comment => {\r\n        const replies = props.comments.filter(c => c.parentId === comment._id);\r\n        return (\r\n          <div className={'mb-2'}>\r\n            <div className=\"flex mb-2\">\r\n              <div className=\"bg-reddit_text w-10 h-10 rounded-full mr-2\"/>\r\n              <div className=\"leading-10 pr-2 text-lg font-sans\">{comment.author}</div>\r\n              <TimeAgo className=\"leading-10 text-md font-sans\" datetime={comment.postedAt}/>\r\n            </div>\r\n            <div className=\"border-l-2 border-reddit_text-darker p-3 pb-0\"\r\n                 style={{marginLeft:'18px'}}>\r\n              <div className=\"pl-4 -mt-4\">\r\n                <div>\r\n                  <ReactMarkdown remarkPlugins={[gfm]} children={comment.body} />\r\n                </div>\r\n                <Voting commentId={comment._id} />\r\n                <Button type={'button'}\r\n                        onClick={() => setShowForm(comment._id)}\r\n                        className=\"bg-reddit_dark-brighter text-reddit_text-darker border-none py-2 pl-0 pr-0\">Reply</Button>\r\n                {comment._id === showForm && (\r\n                  <CommentForm\r\n                    parentId={comment._id}\r\n                    rootId={props.rootId}\r\n                    onSubmit={() => {\r\n                      setShowForm(false);\r\n                      rootCommentInfo.refreshComments();\r\n                    }}\r\n                    showAuthor={false}\r\n                    onCancel={e => setShowForm(false)}/>\r\n                )}\r\n                {replies.length > 0 && (\r\n                  <Comments comments={props.comments} parentId={comment._id} rootId={props.rootId} />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comments;","import Post from \"./Post\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport RootCommentContext from \"./RootCommentContext\";\r\nimport Comments from \"./Comments\";\r\nimport {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction Comment(props) {\r\n\r\n  const [comment,setComment] = useState({});\r\n  const [comments,setComments] = useState([]);\r\n  const [commentsTotals, setCommentsTotals] = useState(null);\r\n  const [userVotes, setUserVotes] = useState(null);\r\n\r\n  function refreshComments() {\r\n    axios.get('http://localhost:4000/comments/root/'+props.id)\r\n      .then(response => {\r\n        setComments(response.data);\r\n      });\r\n  }\r\n\r\n  function refreshVotes() {\r\n    const commentsIds = [comment._id, ...comments.map(c => c._id) ];\r\n    axios.post('http://localhost:4000/votes', {commentsIds}, {withCredentials:true})\r\n      .then(response => {\r\n        setCommentsTotals(response.data.commentsTotals);\r\n        setUserVotes(response.data.userVotes);\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.comment) {\r\n      setComment(props.comment);\r\n    } else {\r\n      axios.get('http://localhost:4000/comments/'+props.id)\r\n        .then(response => {\r\n          setComment(response.data);\r\n        });\r\n    }\r\n    refreshComments();\r\n  }, [props.id, props.comment]);\r\n\r\n  useEffect(() => {\r\n    refreshVotes();\r\n  }, [comments.length]);\r\n\r\n  return (\r\n    <>\r\n      {comment && (\r\n        <Post {...comment} open={true} />\r\n      )}\r\n      {!!comment && !!comment._id && (\r\n        <>\r\n          <hr className=\"border-reddit_border my-4\"/>\r\n          <CommentForm onSubmit={() => refreshComments()}\r\n                       rootId={comment._id} parentId={comment._id} showAuthor={true} />\r\n          <hr className=\"border-reddit_border my-4\"/>\r\n          <RootCommentContext.Provider value={{refreshComments,refreshVotes,commentsTotals,userVotes}}>\r\n            <Comments\r\n              parentId={comment._id}\r\n              rootId={comment._id}\r\n              comments={comments} />\r\n          </RootCommentContext.Provider>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Comment;","import Comment from \"./Comment\";\r\n\r\nfunction CommentPage(props) {\r\n\r\n  const commentId = props.match.params.id;\r\n\r\n  return (\r\n    <div className=\"py-4 px-6 bg-reddit_dark\">\r\n      <div className=\"bg-reddit_dark-brighter p-3 rounded-md\">\r\n        <Comment id={commentId} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CommentPage;","import PostContent from \"./PostContent\";\r\nimport {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport ClickOutHandler from 'react-clickout-handler';\r\nimport CommentForm from \"./CommentForm\";\r\nimport Comments from \"./Comments\";\r\nimport RootCommentContext from \"./RootCommentContext\";\r\nimport Comment from \"./Comment\";\r\n\r\nfunction CommentModal(props) {\r\n\r\n  const [comment,setComment] = useState({});\r\n\r\n  const visibleClass = props.open ? 'block' : 'hidden';\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:4000/comments/'+props.id)\r\n      .then(response => {\r\n        setComment(response.data);\r\n      });\r\n  }, [props.id]);\r\n\r\n  function close() {\r\n    setComment({});\r\n    props.onClickOut();\r\n  }\r\n\r\n  return (\r\n    <div className={\"w-screen h-screen fixed top-0 left-0 z-20 flex \"+visibleClass} style={{backgroundColor:'rgba(0,0,0,.8)'}}>\r\n      <div className=\"block overflow-scroll\">\r\n        <ClickOutHandler onClickOut={() => close()}>\r\n          <div className=\"border my-4 border-reddit_dark-brightest w-3/4 lg:w-1/2 bg-reddit_dark-brighter text-reddit_text self-center p-4 mx-auto rounded-md\">\r\n            <div className=\"\">\r\n              <Comment comment={comment} id={props.id} />\r\n            </div>\r\n          </div>\r\n        </ClickOutHandler>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CommentModal;","import {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport Post from \"./Post\";\r\n\r\nfunction SearchResultsPage(props) {\r\n  const {text} = props.match.params;\r\n  const [comments,setComments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:4000/comments?search='+text, {withCredentials:true})\r\n      .then(response => setComments(response.data));\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"bg-reddit_dark\">\r\n      {comments.map(comment => (\r\n        <Post {...comment} isListing={true} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchResultsPage;","import {Route, Switch, useLocation} from \"react-router-dom\";\r\nimport {useState, useEffect} from \"react\";\r\nimport Board from \"./Board\";\r\nimport CommentPage from \"./CommentPage\";\r\nimport CommentModal from \"./CommentModal\";\r\nimport SearchResultsPage from \"./SearchResultsPage\";\r\n\r\nfunction RoutingSwitch() {\r\n\r\n  const [postOpen, setPostOpen] = useState(false);\r\n  // const [commentId, setCommentId] = useState(null);\r\n\r\n  let location = useLocation();\r\n  let commentId = null;\r\n\r\n  if (location.state && location.state.commentId) {\r\n    location.pathname = '/';\r\n    if (postOpen) {\r\n      commentId = location.state.commentId;\r\n    } else {\r\n      location.state.commentId = null;\r\n    }\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPostOpen(true);\r\n  }, [commentId]);\r\n\r\n  useEffect(() => {\r\n    commentId = null;\r\n  }, [postOpen]);\r\n\r\n  return (\r\n    <div>\r\n      {commentId && (\r\n        <div>\r\n          <CommentModal\r\n            id={commentId}\r\n            open={postOpen}\r\n            onClickOut={() => setPostOpen(false)} />\r\n        </div>\r\n      )}\r\n      <Switch location={location}>\r\n        <Route exact path=\"/\" component={Board} />\r\n        <Route exact path=\"/comments/:id\" component={CommentPage} />\r\n        <Route exact path=\"/search/:text\" component={SearchResultsPage} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoutingSwitch;","function Input (props) {\r\n  return (\r\n    <input {...props} className={\"bg-reddit_dark-brighter text-reddit_text p-2 border border-reddit_dark-brightest rounded-md block \"+props.className} />\r\n  );\r\n}\r\n\r\nexport default Input;","import ClickOutHandler from 'react-clickout-handler';\r\nimport {useState,useContext} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Input from \"./Input\";\r\nimport Textarea from \"./Textarea\";\r\nimport Button from \"./Button\";\r\nimport PostFormModalContext from \"./PostFormModalContext\";\r\nimport AuthModalContext from \"./AuthModalContext\";\r\nimport axios from \"axios\";\r\n\r\nfunction PostFormModal () {\r\n\r\n  const modalContext = useContext(PostFormModalContext);\r\n  const authModalContext = useContext(AuthModalContext);\r\n\r\n  const visibleClass = modalContext.show ? 'block' : 'hidden';\r\n\r\n  const [title,setTitle] = useState('');\r\n  const [body,setBody] = useState('');\r\n  const [newPostId, setNewPostId] = useState(null);\r\n\r\n  function createPost() {\r\n    const data = {title,body};\r\n    axios.post('http://localhost:4000/comments', data, {withCredentials:true})\r\n      .then(response => {\r\n        setNewPostId(response.data._id);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        if (error.response.status === 401) {\r\n          authModalContext.setShow('login');\r\n        }\r\n      });\r\n  }\r\n\r\n  if (newPostId) {\r\n    return (<Redirect to={'/comments/'+newPostId} />);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={\"w-screen h-screen fixed top-0 left-0 z-20 flex \"+visibleClass}  style={{backgroundColor:'rgba(0,0,0,.8)'}}>\r\n      <ClickOutHandler onClickOut={() => {}  }>\r\n        <div className=\"border border-reddit_dark-brightest w-3/4 md:w-2/4 bg-reddit_dark p-5 text-reddit_text self-center mx-auto rounded-md\">\r\n          <h1 className=\"text-2xl mb-5\">Create a post</h1>\r\n          <Input\r\n            className={'w-full mb-3'}\r\n            placeholder={'Title'}\r\n            onChange={e => setTitle(e.target.value)}\r\n            value={title} />\r\n          <Textarea\r\n            className={'w-full mb-3'}\r\n            placeholder={'Post text (you can use markdown)'}\r\n            onChange={e => setBody(e.target.value)}\r\n            value={body} />\r\n          <div className={'text-right'}>\r\n            <Button onClick={() => modalContext.setShow(false)}\r\n                    outline className={'px-4 py-2 mr-3'}>Cancel</Button>\r\n            <Button onClick={() => createPost()} className={'px-4 py-2'}>POST</Button>\r\n          </div>\r\n        </div>\r\n      </ClickOutHandler>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostFormModal;","import Input from \"./Input\";\r\nimport Button from \"./Button\";\r\nimport {useState,useContext} from 'react';\r\nimport axios from 'axios';\r\nimport AuthModalContext from \"./AuthModalContext\";\r\nimport ClickOutHandler from 'react-clickout-handler';\r\nimport UserContext from \"./UserContext\";\r\n\r\nfunction AuthModal() {\r\n  const [modalType,setModalType] = useState('login');\r\n  const [email,setEmail] = useState('');\r\n  const [username,setUsername] = useState('');\r\n  const [password,setPassword] = useState('');\r\n\r\n  const modalContext = useContext(AuthModalContext);\r\n  const user = useContext(UserContext);\r\n\r\n  const visibleClass = modalContext.show ? 'block' : 'hidden';\r\n  if (modalContext.show && modalContext.show !== modalType) {\r\n    setModalType(modalContext.show);\r\n  }\r\n\r\n  function register(e) {\r\n    e.preventDefault();\r\n    const data = {email,username,password};\r\n    axios.post('http://localhost:4000/register', data, {withCredentials:true})\r\n      .then(() => {\r\n        user.setUser({username});\r\n        modalContext.setShow(false);\r\n        setEmail('');\r\n        setPassword('');\r\n        setUsername('');\r\n      });\r\n  }\r\n\r\n  function login() {\r\n    const data = {username,password};\r\n    axios.post('http://localhost:4000/login', data, {withCredentials:true})\r\n\t  .then(() => {\r\n\t    modalContext.setShow(false);\r\n\t    user.setUser({username})\r\n\t  });\r\n  }\r\n\r\n  return (\r\n    <div className={\"w-screen h-screen fixed top-0 left-0 z-30 flex \"+visibleClass} style={{backgroundColor:'rgba(0,0,0,.6)'}}>\r\n      <ClickOutHandler onClickOut={() => modalContext.setShow(false)}>\r\n        <div className=\"border border-reddit_dark-brightest w-3/4 sm:w-1/2 lg:w-1/4 bg-reddit_dark p-5 text-reddit_text self-center mx-auto rounded-md\">\r\n          {modalType === 'login' && (\r\n            <h1 className=\"text-2xl mb-5\">Login</h1>\r\n          )}\r\n          {modalType === 'register' && (\r\n            <h1 className=\"text-2xl mb-5\">Sign Up</h1>\r\n          )}\r\n          {modalType === 'register' && (\r\n            <label>\r\n              <span className=\"text-reddit_text-darker text-sm\">E-mail:</span>\r\n              <Input type=\"email\" className=\"mb-3 w-full\" value={email} onChange={e => setEmail(e.target.value)} />\r\n            </label>\r\n          )}\r\n          <label>\r\n            <span className=\"text-reddit_text-darker text-sm\">Username:</span>\r\n            <Input type=\"text\" className=\"mb-3 w-full\" value={username} onChange={e => setUsername(e.target.value)} />\r\n          </label>\r\n\r\n          <label>\r\n            <span className=\"text-reddit_text-darker text-sm\">Password:</span>\r\n            <Input type=\"password\" className=\"mb-3 w-full\" value={password} onChange={e => setPassword(e.target.value)} />\r\n          </label>\r\n          {modalType === 'login' && (\r\n            <Button className=\"w-full py-2 mb-3\" style={{borderRadius:'.3rem'}} onClick={()=>login()}>\r\n              Log In\r\n            </Button>\r\n          )}\r\n          {modalType === 'register' && (\r\n            <Button className=\"w-full py-2 mb-3\" style={{borderRadius:'.3rem'}} onClick={e => register(e)}>\r\n              Sign Up\r\n            </Button>\r\n          )}\r\n\r\n          {modalType === 'login' && (\r\n            <div>\r\n              New to Reddit? <button className=\"text-blue-600\" onClick={() => modalContext.setShow('register')}>SIGN UP</button>\r\n            </div>\r\n          )}\r\n          {modalType === 'register' && (\r\n            <div>\r\n              Already have an account? <button className=\"text-blue-600\" onClick={() => modalContext.setShow('login')}>LOG IN</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </ClickOutHandler>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthModal;\r\n","import Header from \"./Header\";\r\nimport {BrowserRouter as Router, Redirect} from \"react-router-dom\";\r\nimport RoutingSwitch from \"./RoutingSwitch\";\r\nimport PostFormModal from \"./PostFormModal\";\r\nimport AuthModal from \"./AuthModal\";\r\nimport {useContext, useEffect} from \"react\";\r\nimport RedirectContext from \"./RedirectContext\";\r\n\r\n\r\nfunction Routing() {\r\n  const {redirect,setRedirect} = useContext(RedirectContext);\r\n  useEffect(() => {\r\n    if (redirect) {\r\n      setRedirect(false);\r\n    }\r\n  }, [redirect]);\r\n  return (\r\n    <Router>\r\n      {redirect && (\r\n        <Redirect to={redirect} />\r\n      )}\r\n      {!redirect && (\r\n        <>\r\n          <Header />\r\n          <RoutingSwitch />\r\n          <PostFormModal />\r\n          <AuthModal />\r\n        </>\r\n      )}\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default Routing;","import './style.css';\r\nimport AuthModalContext from \"./AuthModalContext\";\r\nimport {useState,useEffect} from \"react\";\r\nimport axios from 'axios';\r\nimport UserContext from \"./UserContext\";\r\nimport Routing from \"./Routing\";\r\nimport PostFormModalContext from \"./PostFormModalContext\";\r\nimport RedirectContext from \"./RedirectContext\";\r\n\r\nfunction App() {\r\n  const [showAuthModal,setShowAuthModal] = useState(false);\r\n  const [showPostFormModal,setShowPostFormModal] = useState(false);\r\n  const [user,setUser] = useState({});\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  useEffect(() => {\r\n\r\n    axios.get('http://localhost:4000/user', {withCredentials:true})\r\n      .then(response => setUser(response.data));\r\n\r\n  }, []);\r\n  function logout() {\r\n    axios.post('http://localhost:4000/logout', {}, {withCredentials:true})\r\n      .then(() => setUser({}));\r\n  }\r\n\r\n  return (\r\n    <AuthModalContext.Provider value={{show:showAuthModal,setShow:setShowAuthModal}}>\r\n      <PostFormModalContext.Provider value={{show:showPostFormModal,setShow:setShowPostFormModal}}>\r\n        <UserContext.Provider value={{...user, logout, setUser}}>\r\n          <RedirectContext.Provider value={{redirect,setRedirect}}>\r\n            <Routing />\r\n          </RedirectContext.Provider>\r\n        </UserContext.Provider>\r\n      </PostFormModalContext.Provider>\r\n    </AuthModalContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}